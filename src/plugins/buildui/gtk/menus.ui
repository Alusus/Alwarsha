<?xml version="1.0" encoding="UTF-8"?>
<interface>
  <menu id="project-tree-menu">
    <section id="project-tree-menu-foundry-section">
      <item>
        <attribute name="id">project-tree-menu-build</attribute>
        <attribute name="hidden-when">action-disabled</attribute>
        <attribute name="label" translatable="yes">_Build</attribute>
        <attribute name="action">buildui.build</attribute>
      </item>
      <item>
        <attribute name="id">project-tree-menu-rebuild</attribute>
        <attribute name="hidden-when">action-disabled</attribute>
        <attribute name="label" translatable="yes">R_ebuild</attribute>
        <attribute name="action">buildui.rebuild</attribute>
      </item>
      <item>
        <attribute name="id">project-tree-menu-run</attribute>
        <attribute name="hidden-when">action-disabled</attribute>
        <attribute name="label" translatable="yes">_Run</attribute>
        <attribute name="action">buildui.run-with-handler</attribute>
        <attribute name="target" type="s">''</attribute>
      </item>
      <submenu id="project-tree-run-with-submenu">
        <attribute name="label" translatable="yes">R_un With…</attribute>
        <section id="project-tree-menu-run-with-section">
        </section>
      </submenu>
    </section>
  </menu>
  <menu id="build-menu">
    <item>
      <attribute name="label" translatable="yes">Configure Project…</attribute>
      <attribute name="action">workbench.configure</attribute>
      <attribute name="accel">&lt;alt&gt;comma</attribute>
      <attribute name="description" translatable="yes">Configure settings related to the project</attribute>
      <attribute name="verb-icon">preferences-system-symbolic</attribute>
    </item>
    <section id="build-menu-target">
      <item>
        <attribute name="label" translatable="yes">Select Build Target…</attribute>
        <attribute name="action">win.select-build-target</attribute>
        <attribute name="description" translatable="yes">Change default build target</attribute>
      </item>
    </section>
    <section id="build-commands">
      <item>
        <attribute name="label" translatable="yes">_Build</attribute>
        <attribute name="description" translatable="yes">Build the project</attribute>
        <attribute name="action">context.build-manager.build</attribute>
        <attribute name="accel">&lt;ctrl&gt;&lt;alt&gt;&lt;shift&gt;b</attribute>
        <attribute name="verb-icon">builder-build-symbolic</attribute>
      </item>
      <item>
        <attribute name="label" translatable="yes">_Rebuild</attribute>
        <attribute name="description" translatable="yes">Rebuild the project</attribute>
        <attribute name="action">context.build-manager.rebuild</attribute>
        <attribute name="verb-icon">builder-build-symbolic</attribute>
      </item>
      <item>
        <attribute name="label" translatable="yes">_Clean</attribute>
        <attribute name="description" translatable="yes">Clean the project</attribute>
        <attribute name="action">context.build-manager.clean</attribute>
        <attribute name="verb-icon">builder-build-symbolic</attribute>
      </item>
    </section>
    <section id="build-export">
      <item>
        <attribute name="label" translatable="yes">_Install</attribute>
        <attribute name="action">context.build-manager.install</attribute>
        <attribute name="description" translatable="yes">Install the project</attribute>
        <attribute name="verb-icon">builder-build-symbolic</attribute>
      </item>
      <item>
        <attribute name="label" translatable="yes">Deploy to Device…</attribute>
        <attribute name="action">context.device-manager.deploy</attribute>
        <attribute name="description" translatable="yes">Deploy project to current device</attribute>
        <attribute name="verb-icon">builder-build-symbolic</attribute>
      </item>
      <item>
        <!-- TODO: Instead of having a generic Export via the build-manager,
          this should move into the Flatpak plugin and have it use
          flatpak-builder directly (reusing our cachepoints) so that
          the output is the same as using flatpak-builder from Flathub, etc.
        -->
        <attribute name="label" translatable="yes">_Export</attribute>
        <attribute name="action">context.build-manager.export</attribute>
        <attribute name="description" translatable="yes">Export project</attribute>
        <attribute name="verb-icon">builder-build-symbolic</attribute>
      </item>
    </section>
    <section id="build-cork">
      <item>
        <attribute name="label" translatable="yes">Stop Build</attribute>
        <attribute name="action">context.build-manager.cancel</attribute>
        <attribute name="description" translatable="yes">Stop building project</attribute>
        <attribute name="verb-icon">builder-build-stop-symbolic</attribute>
      </item>
    </section>
    <section id="build-output">
      <item>
        <attribute name="label" translatable="yes">Show Build _Log</attribute>
        <attribute name="action">win.show-build-log</attribute>
        <attribute name="accel">&lt;ctrl&gt;&lt;shift&gt;l</attribute>
        <attribute name="description" translatable="yes">Display panel containing the build log</attribute>
        <attribute name="verb-icon">builder-terminal-symbolic</attribute>
      </item>
    </section>
    <section id="build-deps">
      <item>
        <attribute name="label" translatable="yes">Update Dependencies…</attribute>
        <attribute name="action">win.update-dependencies</attribute>
        <attribute name="description" translatable="yes">Download updates to project dependencies</attribute>
        <attribute name="verb-icon">software-update-available-symbolic</attribute>
      </item>
      <item>
        <attribute name="label" translatable="yes">Manage SDKs…</attribute>
        <attribute name="action">app.preferences-page</attribute>
        <attribute name="target" type="s">'sdks'</attribute>
      </item>
    </section>
  </menu>
  <menu id="run-menu">
    <section id="run-command-section">
      <item>
        <attribute name="label" translatable="yes">Select Run Command…</attribute>
        <attribute name="action">workbench.configure-page</attribute>
        <attribute name="target" type="s">'application'</attribute>
      </item>
    </section>
    <section id="run-menu-observation-section">
      <item>
        <attribute name="id">default-run-handler</attribute>
        <attribute name="action">context.run-manager.run-with-handler</attribute>
        <attribute name="target" type="s">'run'</attribute>
        <attribute name="label" translatable="yes">Run</attribute>
        <attribute name="accel">&lt;Control&gt;&lt;Shift&gt;space</attribute>
        <attribute name="verb-icon">builder-run-start-symbolic</attribute>
        <attribute name="description" translatable="yes">Run the project</attribute>
      </item>
    </section>
    <section id="run-menu-tests-section"/>
    <section id="run-menu-settings-section">
      <attribute name="label" translatable="yes">Settings</attribute>
      <submenu id="run-menu-appearance">
        <attribute name="label" translatable="yes">Appearance</attribute>
        <item>
          <attribute name="label">Follow System Style</attribute>
          <attribute name="role">radio</attribute>
          <attribute name="action">context.run-manager.color-scheme</attribute>
          <attribute name="target" type="s">'follow'</attribute>
        </item>
        <item>
          <attribute name="label">Force Light</attribute>
          <attribute name="role">radio</attribute>
          <attribute name="action">context.run-manager.color-scheme</attribute>
          <attribute name="target" type="s">'force-light'</attribute>
        </item>
        <item>
          <attribute name="label">Force Dark</attribute>
          <attribute name="role">radio</attribute>
          <attribute name="action">context.run-manager.color-scheme</attribute>
          <attribute name="target" type="s">'force-dark'</attribute>
        </item>
      </submenu>
      <submenu id="run-menu-a11y">
        <attribute name="label" translatable="yes">Accessibility</attribute>
        <item>
          <attribute name="label" translatable="yes">High Contrast</attribute>
          <attribute name="role">check</attribute>
          <attribute name="action">context.run-manager.high-contrast</attribute>
        </item>
        <section id="run-menu-a11y-text-direction">
          <attribute name="label" translatable="yes">Text Direction</attribute>
          <item>
            <attribute name="label" translatable="yes">Left-to-Right</attribute>
            <attribute name="role">check</attribute>
            <attribute name="action">context.run-manager.text-direction</attribute>
            <attribute name="target" type="s">'ltr'</attribute>
          </item>
          <item>
            <attribute name="label" translatable="yes">Right-to-Left</attribute>
            <attribute name="role">check</attribute>
            <attribute name="action">context.run-manager.text-direction</attribute>
            <attribute name="target" type="s">'rtl'</attribute>
          </item>
        </section>
      </submenu>
      <item>
        <attribute name="id">run-menu-verbose-logging</attribute>
        <attribute name="label" translatable="yes">Verbose Logging</attribute>
        <attribute name="action">context.run-manager.messages-debug-all</attribute>
        <attribute name="role">check</attribute>
      </item>
    </section>
    <section id="run-menu-tools-section">
      <attribute name="label" translatable="yes">Tools</attribute>
    </section>
  </menu>
</interface>
